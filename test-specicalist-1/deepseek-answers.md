–î–ª—è —É—Å–ø–µ—à–Ω–æ–π —Å–¥–∞—á–∏ —ç–∫–∑–∞–º–µ–Ω–∞ **Dev-1 PostgreSQL** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–æ–≤ –∏–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏) –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –°–£–ë–î, SQL-–∑–∞–ø—Ä–æ—Å—ã, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é.  

### **–ü—Ä–∏–º–µ—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏**  

#### **1. –û—Å–Ω–æ–≤—ã PostgreSQL**  
**–í–æ–ø—Ä–æ—Å**: –ß—Ç–æ —Ç–∞–∫–æ–µ PostgreSQL –∏ –∫–∞–∫–æ–≤—ã –µ–≥–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏?  
**–û—Ç–≤–µ—Ç**:  
PostgreSQL ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç–Ω–æ-—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –°–£–ë–î —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:  
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ACID (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö).  
- –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö, —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`pg_partman`, `PostGIS`).  
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON/JSONB, –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏.  

---  

#### **2. SQL-–∑–∞–ø—Ä–æ—Å—ã**  
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –Ω–∞–π—Ç–∏ 5 —Å–∞–º—ã—Ö –≤—ã—Å–æ–∫–æ–æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT name, salary 
FROM employees 
ORDER BY salary DESC 
LIMIT 5;
```  

---  

#### **3. –ò–Ω–¥–µ–∫—Å—ã**  
**–í–æ–ø—Ä–æ—Å**: –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –∏ –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –Ω–∞ –ø–æ–ª–µ `email` –≤ —Ç–∞–±–ª–∏—Ü–µ `users`?  
**–û—Ç–≤–µ—Ç**:  
–ò–Ω–¥–µ–∫—Å—ã —É—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ –¥–∞–Ω–Ω—ã—Ö. –°–æ–∑–¥–∞–Ω–∏–µ:  
```sql
CREATE INDEX idx_users_email ON users(email);
```  
**–í–∞–∂–Ω–æ**: –ò–Ω–¥–µ–∫—Å—ã –∑–∞–º–µ–¥–ª—è—é—Ç `INSERT/UPDATE/DELETE`, —Ç–∞–∫ –∫–∞–∫ –∏—Ö –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—Ç—å.  

---  

#### **4. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**  
**–í–æ–ø—Ä–æ—Å**: –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä.  
**–û—Ç–≤–µ—Ç**:  
–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è ‚Äî —ç—Ç–æ –∞—Ç–æ–º–∞—Ä–Ω–∞—è –≥—Ä—É–ø–ø–∞ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤. –ü—Ä–∏–º–µ—Ä:  
```sql
BEGIN;
UPDATE accounts SET balance = balance - 100 WHERE user_id = 1;
UPDATE accounts SET balance = balance + 100 WHERE user_id = 2;
COMMIT;  -- –∏–ª–∏ ROLLBACK –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
```  

---  

#### **5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**  
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å?  
**–û—Ç–≤–µ—Ç**:  
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `EXPLAIN ANALYZE`:  
```sql
EXPLAIN ANALYZE SELECT * FROM orders WHERE status = 'shipped';
```  
–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –≤—Ä–µ–º—è.  

---  

#### **6. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**  
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –¥–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö?  
**–û—Ç–≤–µ—Ç**:  
–ß–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É `pg_dump`:  
```bash
pg_dump -U username -d dbname -f backup.sql
```  

---  

#### **7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏**  
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫–∏–µ —Ç–∏–ø—ã —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç PostgreSQL?  
**–û—Ç–≤–µ—Ç**:  
- **–§–∏–∑–∏—á–µ—Å–∫–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è** (–±–∏–Ω–∞—Ä–Ω–∞—è, WAL-–ª–æ–≥–∏).  
- **–õ–æ–≥–∏—á–µ—Å–∫–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è** (–Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∞–±–ª–∏—Ü).  

---  

#### **8. –û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**  
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –Ω–∞–π—Ç–∏ –≤—Ç–æ—Ä–æ–π —Å–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π –æ–∫–ª–∞–¥ –≤ –∫–∞–∂–¥–æ–º –æ—Ç–¥–µ–ª–µ?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT department_id, name, salary 
FROM (
    SELECT 
        department_id, 
        name, 
        salary,
        DENSE_RANK() OVER (PARTITION BY department_id ORDER BY salary DESC) as rank
    FROM employees
) ranked 
WHERE rank = 2;
```  

---  

#### **9. –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã**  
**–í–æ–ø—Ä–æ—Å**: –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã?  
**–û—Ç–≤–µ—Ç**:  
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤.  
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π.  
–ü—Ä–∏–º–µ—Ä:  
```sql
PREPARE get_user (int) AS SELECT * FROM users WHERE id = $1;
EXECUTE get_user(1);
```  

---  

#### **10. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**  
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT * FROM pg_stat_activity;
```  

---  

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è**  
- **–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü**.  
- **–†–∞–±–æ—Ç–∞ —Å JSONB**.  
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–≤–∞–∫—É—É–º–∞ (autovacuum)**.  
- **–õ–æ–∫–∏ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø**.  

### **–°–æ–≤–µ—Ç—ã –¥–ª—è —Å–¥–∞—á–∏**  
1. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ [SQLex](https://sql-ex.ru/)).  
2. –†–∞–∑–±–µ—Ä–∏—Ç–µ—Å—å —Å `EXPLAIN` –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π.  
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º —Å—Ç–µ–Ω–¥–µ.  




–í–æ—Ç –µ—â–µ –ø–æ–¥–±–æ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —ç–∫–∑–∞–º–µ–Ω—É **Dev-1 PostgreSQL** (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è). –í–æ–ø—Ä–æ—Å—ã –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã: –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.

## –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û

### **1. –û—Å–Ω–æ–≤—ã SQL**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ `department` –≤ —Ç–∞–±–ª–∏—Ü–µ `employees`?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT DISTINCT department FROM employees;
```

---

### **2. –†–∞–±–æ—Ç–∞ —Å JOIN**
**–í–æ–ø—Ä–æ—Å**: –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `INNER JOIN` –æ—Ç `LEFT JOIN`? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä.  
**–û—Ç–≤–µ—Ç**:  
- `INNER JOIN` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü.  
- `LEFT JOIN` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–≤—Å–µ** —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∏–∑ –ø—Ä–∞–≤–æ–π (–µ—Å–ª–∏ –Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚Äî `NULL`).  

–ü—Ä–∏–º–µ—Ä:  
```sql
-- INNER JOIN (—Ç–æ–ª—å–∫–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –æ—Ç–¥–µ–ª–∞–º–∏)
SELECT e.name, d.name 
FROM employees e 
INNER JOIN departments d ON e.department_id = d.id;

-- LEFT JOIN (–≤—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, –¥–∞–∂–µ –±–µ–∑ –æ—Ç–¥–µ–ª–∞)
SELECT e.name, d.name 
FROM employees e 
LEFT JOIN departments d ON e.department_id = d.id;
```

---

### **3. –ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –Ω–∞–π—Ç–∏ —Å—Ä–µ–¥–Ω—é—é –∑–∞—Ä–ø–ª–∞—Ç—É –ø–æ –æ—Ç–¥–µ–ª–∞–º?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT department, AVG(salary) 
FROM employees 
GROUP BY department;
```

---

### **4. –ü–æ–¥–∑–∞–ø—Ä–æ—Å—ã**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, —á—å—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–π?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT name, salary 
FROM employees 
WHERE salary > (SELECT AVG(salary) FROM employees);
```

---

### **5. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª–µ `last_login` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å `id = 5`?  
**–û—Ç–≤–µ—Ç**:  
```sql
UPDATE users 
SET last_login = NOW() 
WHERE id = 5;
```

---

### **6. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**
**–í–æ–ø—Ä–æ—Å**: –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –æ—à–∏–±–∫–∞?  
**–û—Ç–≤–µ—Ç**:  
–ï—Å–ª–∏ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É —è–≤–Ω–æ, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ "–ø—Ä–µ—Ä–≤–∞–Ω–∞" (–Ω–µ –±—É–¥–µ—Ç –Ω–∏ `COMMIT`, –Ω–∏ `ROLLBACK`). –õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `BEGIN ... EXCEPTION ... END` –≤ PL/pgSQL –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π `ROLLBACK` –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

---

### **7. –ò–Ω–¥–µ–∫—Å—ã**
**–í–æ–ø—Ä–æ—Å**: –ü–æ—á–µ–º—É –∏–Ω–¥–µ–∫—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–µ `SELECT * FROM users WHERE LOWER(name) = 'alice'`?  
**–û—Ç–≤–µ—Ç**:  
–ò–Ω–¥–µ–∫—Å—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ (–µ—Å–ª–∏ –Ω–µ—Ç **—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞**). –†–µ—à–µ–Ω–∏–µ:  
```sql
CREATE INDEX idx_users_lower_name ON users (LOWER(name));
```

---

### **8. –û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ —Å—Ä–∞–≤–Ω–∏—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ —Å—Ä–µ–¥–Ω–µ–π –ø–æ –æ—Ç–¥–µ–ª—É?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT 
    name, 
    salary,
    AVG(salary) OVER (PARTITION BY department_id) as avg_department_salary
FROM employees;
```

---

### **9. –†–∞—Å—à–∏—Ä–µ–Ω–∏—è PostgreSQL**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `pgcrypto` –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö?  
**–û—Ç–≤–µ—Ç**:  
```sql
CREATE EXTENSION IF NOT EXISTS pgcrypto;
-- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
SELECT crypt('password', gen_salt('bf'));
```

---

### **10. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î –∏–∑ –¥–∞–º–ø–∞?  
**–û—Ç–≤–µ—Ç**:  
```bash
psql -U username -d dbname -f backup.sql
```

---

### **11. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–∞–º—ã–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ PostgreSQL?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT query, total_time 
FROM pg_stat_statements 
ORDER BY total_time DESC 
LIMIT 10;
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `pg_stat_statements` –≤ `postgresql.conf`.

---

### **12. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (Locking)**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–µ–π—á–∞—Å –∞–∫—Ç–∏–≤–Ω—ã?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT locktype, relation::regclass, mode, pid 
FROM pg_locks 
WHERE granted = true;
```

---

### **13. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
**–í–æ–ø—Ä–æ—Å**: –ü–æ—á–µ–º—É –∑–∞–ø—Ä–æ—Å `SELECT * FROM large_table` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–ª–æ—Ö–æ–π –∏–¥–µ–µ–π?  
**–û—Ç–≤–µ—Ç**:  
- –û–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç **–≤—Å–µ** —Å—Ç—Ä–æ–∫–∏, —á—Ç–æ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏.  
- –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (`WHERE`) –∏–ª–∏ –ª–∏–º–∏—Ç–∞ (`LIMIT`).  
- –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é:  
  ```sql
  SELECT * FROM large_table LIMIT 100 OFFSET 0;
  ```

---

### **14. –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**
**–í–æ–ø—Ä–æ—Å**: –ó–∞—á–µ–º –Ω—É–∂–Ω–æ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü?  
**–û—Ç–≤–µ—Ç**:  
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–∫–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–∞—è –ø–∞—Ä—Ç–∏—Ü–∏—è).  
- –£–ø—Ä–æ—â–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `DROP PARTITION`).  

---

### **15. JSON –≤ PostgreSQL**
**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –ø–æ–ª–µ `email` –∏–∑ JSONB-—Å—Ç–æ–ª–±—Ü–∞ `profile`?  
**–û—Ç–≤–µ—Ç**:  
```sql
SELECT profile->>'email' FROM users;
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: `->>` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç, `->` ‚Äî JSONB.

---

### **–ì–¥–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è?**
1. **–¢–µ—Å—Ç–æ–≤—ã–µ –ë–î**: [PostgreSQL Exercises](https://pgexercises.com/).  
2. **SQL-—Ç—Ä–µ–Ω–∞–∂–µ—Ä—ã**: [LeetCode](https://leetcode.com/), [HackerRank](https://www.hackerrank.com/domains/sql).  
3. **–õ–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–Ω–¥**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –≤—ã—à–µ.  

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É–≥–ª—É–±–∏—Ç—å—Å—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ç–µ–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –∏–ª–∏ PL/pgSQL) ‚Äî —Å–ø—Ä–∞—à–∏–≤–∞–π! üòä